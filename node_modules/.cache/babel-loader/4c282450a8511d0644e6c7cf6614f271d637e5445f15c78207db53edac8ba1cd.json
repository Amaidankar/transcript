{"ast":null,"code":"var _jsxFileName = \"/home/ifas/Ashish/youtube-transcript-frontend/src/screen/sotryCreator.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Video } from \"lucide-react\";\nimport GoogleLogin from '../component/googleLogin';\nimport { postData } from '../api/api';\nimport UrlInput from '../component/urlInput';\nimport SelectInput from '../component/selectInput';\nimport StartButton from '../component/startButton';\nimport TextArea from '../component/textArea';\nimport UpgradeButton from '../component/upgradeButton';\nimport FeedBack from '../component/feedback';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction StoryCreator() {\n  _s();\n  const [videoUrls, setVideoUrls] = useState(['']);\n  const [selectedOption, setSelectedOption] = useState('');\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [summary, setSummary] = useState('');\n  const [transcript, setTranscript] = useState('');\n  const options = [{\n    value: 'new-story',\n    label: 'Create a new story',\n    isPaid: true\n  }, {\n    value: 'summary',\n    label: 'Create a summary',\n    isPaid: false\n  }, {\n    value: 'new-script',\n    label: 'Create a new script from videos',\n    isPaid: true\n  }];\n  // useEffect(() => {\n  //     const messageListener = (event) => {\n  //         if (event.data.type === 'videoUrl' && event.data.url) {\n  //             setVideoUrls([event.data.url]);\n  //         } else {\n  //             console.log(\"Received an irrelevant message:\", event.data);\n  //         }\n  //     };\n  //     window.addEventListener('message', messageListener);\n  //     return () => {\n  //         window.removeEventListener('message', messageListener);\n  //     };\n  // }, []);\n  useEffect(() => {\n    const messageListener = event => {\n      if (event.data.type === 'videoUrl' && event.data.url) {\n        if (videoUrls[0] !== event.data.url) {\n          // Only update if the URL is different\n          setVideoUrls([event.data.url]);\n        }\n      } else {\n        console.log(\"Received an irrelevant message:\", event.data);\n      }\n    };\n    window.addEventListener('message', messageListener);\n    return () => {\n      window.removeEventListener('message', messageListener);\n    };\n  }, [videoUrls]);\n  // useEffect(() => {\n  //     const messageListener = (event) => {\n  //         if (event.data.type === 'videoUrl' && event.data.url) {\n  //             setVideoUrls((prevUrls) => {\n  //                 if (prevUrls[0] !== event.data.url) {\n  //                     return [event.data.url];\n  //                 }\n  //                 return prevUrls;\n  //             });\n  //         } else {\n  //             console.log(\"Received an irrelevant message:\", event.data);\n  //         }\n  //     };\n\n  //     window.addEventListener('message', messageListener);\n\n  //     return () => {\n  //         window.removeEventListener('message', messageListener);\n  //     };\n  // }, []); // No dependencies, runs once\n\n  useEffect(() => {\n    if (videoUrls[0]) {\n      getTranscript();\n    }\n  }, [videoUrls]);\n  const getYouTubeVideoId = url => {\n    const regex = /[?&]v=([^&]+)/;\n    const match = url.match(regex);\n    return match ? match[1] : null;\n  };\n  const videoId = getYouTubeVideoId(videoUrls[0]);\n  const handleVideoUrlChange = (index, value) => {\n    const updatedUrls = [...videoUrls];\n    updatedUrls[index] = value;\n    setVideoUrls(updatedUrls);\n  };\n  const addVideoUrl = () => {\n    if (videoUrls.length < 3) setVideoUrls([...videoUrls, '']);\n  };\n  const removeVideoUrl = index => {\n    const updatedUrls = videoUrls.filter((_, i) => i !== index);\n    setVideoUrls(updatedUrls);\n  };\n  const handelSelectedOption = e => {\n    setSelectedOption(e.target.value);\n  };\n  const vidoeSummary = async () => {\n    console.log(\"trascriot\", transcript);\n    try {\n      const payload = {\n        youtube_id: videoId,\n        user_id: 'bipin',\n        transcript: transcript\n      };\n      const getSummary = await postData('/get-summary', payload);\n      setSummary(getSummary);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const getTranscript = async () => {\n    try {\n      const payload = {\n        youtube_id: videoId\n      };\n      const getScript = await postData('/get-transcript', payload);\n      if (getScript !== null && getScript !== void 0 && getScript.data) {\n        setTranscript(getScript === null || getScript === void 0 ? void 0 : getScript.data);\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const handleStart = () => {\n    setIsProcessing(true);\n    if (selectedOption === 'new-story') {\n      setTimeout(() => {\n        setIsProcessing(false);\n      }, 2000);\n    }\n    if (selectedOption === 'summary') {\n      setTimeout(() => {\n        setIsProcessing(false);\n        vidoeSummary();\n      }, 2000);\n    } else if (selectedOption === 'new-script') {\n      setTimeout(() => {\n        setIsProcessing(false);\n        getTranscript();\n      }, 2000);\n    }\n  };\n  const handleCopy = () => {\n    if (summary) navigator.clipboard.writeText(summary);else if (transcript) navigator.clipboard.writeText(transcript);\n  };\n  const handleDownload = () => {\n    const content = summary || transcript;\n    const filename = summary ? 'summary.txt' : 'transcript.txt';\n    if (content) {\n      const blob = new Blob([content], {\n        type: 'text/plain'\n      });\n      const link = document.createElement('a');\n      link.href = URL.createObjectURL(blob);\n      link.download = filename;\n      link.click();\n      URL.revokeObjectURL(link.href);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"story-creator-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-vh-100 d-flex justify-content-center align-items-center p-4 main\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card shadow-lg\",\n        style: {\n          maxWidth: '400px',\n          width: '100%',\n          minHeight: '600px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header text-white d-flex justify-content-between align-items-center py-4 px-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"mb-0\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(Video, {\n              className: \"text-light me-2\",\n              style: {\n                height: '1.5rem',\n                width: '1.5rem'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 47\n            }, this), \" Free YouTube Summarizer\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(GoogleLogin, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-muted mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"Create new content from videos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 56\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(UrlInput, {\n            videoUrls: videoUrls,\n            handleVideoUrlChange: handleVideoUrlChange,\n            removeVideoUrl: removeVideoUrl,\n            addVideoUrl: addVideoUrl\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            className: \"mx-1 border border-secondary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(SelectInput, {\n            handelSelectedOption: handelSelectedOption,\n            selectedOption: selectedOption,\n            options: options\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(StartButton, {\n            handleStart: handleStart,\n            selectedOption: selectedOption,\n            isProcessing: isProcessing,\n            videoUrls: videoUrls\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 25\n          }, this), summary && /*#__PURE__*/_jsxDEV(TextArea, {\n            summary: summary,\n            handleCopy: handleCopy,\n            handleDownload: handleDownload\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(UpgradeButton, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FeedBack, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"footer-border gradient-background\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-100 d-flex justify-content-center gap-3 text-muted small p-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              className: \"btn text-light\",\n              children: \"Privacy Policy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              className: \"btn text-light\",\n              children: \"Terms and Conditions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 9\n  }, this);\n}\n_s(StoryCreator, \"LNQpwpMYdY0+RQPG3vT92Hor974=\");\n_c = StoryCreator;\nexport default StoryCreator;\nvar _c;\n$RefreshReg$(_c, \"StoryCreator\");","map":{"version":3,"names":["React","useState","useEffect","useContext","Video","GoogleLogin","postData","UrlInput","SelectInput","StartButton","TextArea","UpgradeButton","FeedBack","jsxDEV","_jsxDEV","StoryCreator","_s","videoUrls","setVideoUrls","selectedOption","setSelectedOption","isProcessing","setIsProcessing","summary","setSummary","transcript","setTranscript","options","value","label","isPaid","messageListener","event","data","type","url","console","log","window","addEventListener","removeEventListener","getTranscript","getYouTubeVideoId","regex","match","videoId","handleVideoUrlChange","index","updatedUrls","addVideoUrl","length","removeVideoUrl","filter","_","i","handelSelectedOption","e","target","vidoeSummary","payload","youtube_id","user_id","getSummary","error","getScript","handleStart","setTimeout","handleCopy","navigator","clipboard","writeText","handleDownload","content","filename","blob","Blob","link","document","createElement","href","URL","createObjectURL","download","click","revokeObjectURL","className","children","style","maxWidth","width","minHeight","height","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/ifas/Ashish/youtube-transcript-frontend/src/screen/sotryCreator.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { Video } from \"lucide-react\"\nimport GoogleLogin from '../component/googleLogin';\nimport { postData } from '../api/api';\nimport UrlInput from '../component/urlInput';\nimport SelectInput from '../component/selectInput';\nimport StartButton from '../component/startButton';\nimport TextArea from '../component/textArea';\nimport UpgradeButton from '../component/upgradeButton';\nimport FeedBack from '../component/feedback';\nfunction StoryCreator() {\n    const [videoUrls, setVideoUrls] = useState(['']);\n    const [selectedOption, setSelectedOption] = useState('');\n    const [isProcessing, setIsProcessing] = useState(false);\n    const [summary, setSummary] = useState('');\n    const [transcript, setTranscript] = useState('');\n    const options = [\n        { value: 'new-story', label: 'Create a new story', isPaid: true },\n        { value: 'summary', label: 'Create a summary', isPaid: false },\n        { value: 'new-script', label: 'Create a new script from videos', isPaid: true },\n    ];\n    // useEffect(() => {\n    //     const messageListener = (event) => {\n    //         if (event.data.type === 'videoUrl' && event.data.url) {\n    //             setVideoUrls([event.data.url]);\n    //         } else {\n    //             console.log(\"Received an irrelevant message:\", event.data);\n    //         }\n    //     };\n    //     window.addEventListener('message', messageListener);\n    //     return () => {\n    //         window.removeEventListener('message', messageListener);\n    //     };\n    // }, []);\n    useEffect(() => {\n        const messageListener = (event) => {\n            if (event.data.type === 'videoUrl' && event.data.url) {\n                if (videoUrls[0] !== event.data.url) { // Only update if the URL is different\n                    setVideoUrls([event.data.url]);\n                }\n            } else {\n                console.log(\"Received an irrelevant message:\", event.data);\n            }\n        };\n    \n        window.addEventListener('message', messageListener);\n    \n        return () => {\n            window.removeEventListener('message', messageListener);\n        };\n    }, [videoUrls]);\n    // useEffect(() => {\n    //     const messageListener = (event) => {\n    //         if (event.data.type === 'videoUrl' && event.data.url) {\n    //             setVideoUrls((prevUrls) => {\n    //                 if (prevUrls[0] !== event.data.url) {\n    //                     return [event.data.url];\n    //                 }\n    //                 return prevUrls;\n    //             });\n    //         } else {\n    //             console.log(\"Received an irrelevant message:\", event.data);\n    //         }\n    //     };\n        \n    //     window.addEventListener('message', messageListener);\n        \n    //     return () => {\n    //         window.removeEventListener('message', messageListener);\n    //     };\n    // }, []); // No dependencies, runs once\n    \n    \n\n    useEffect(() => {\n        if (videoUrls[0]) {\n            getTranscript();\n        }\n    }, [videoUrls]);\n\n    const getYouTubeVideoId = (url) => {\n        const regex = /[?&]v=([^&]+)/;\n        const match = url.match(regex);\n        return match ? match[1] : null;\n    };\n\n    const videoId = getYouTubeVideoId(videoUrls[0]);\n\n    const handleVideoUrlChange = (index, value) => {\n        const updatedUrls = [...videoUrls];\n        updatedUrls[index] = value;\n        setVideoUrls(updatedUrls);\n    };\n\n    const addVideoUrl = () => {\n        if (videoUrls.length < 3) setVideoUrls([...videoUrls, '']);\n    };\n\n    const removeVideoUrl = (index) => {\n        const updatedUrls = videoUrls.filter((_, i) => i !== index);\n        setVideoUrls(updatedUrls);\n    };\n\n    const handelSelectedOption = (e) => {\n        setSelectedOption(e.target.value);\n    };\n\n    const vidoeSummary = async () => {\n        console.log(\"trascriot\", transcript);\n        try {\n            const payload = {\n                youtube_id: videoId,\n                user_id: 'bipin',\n                transcript: transcript,\n            }\n            const getSummary = await postData('/get-summary', payload);\n            setSummary(getSummary);\n        } catch (error) {\n            console.error(error);\n        }\n    };\n\n    const getTranscript = async () => {\n        try {\n            const payload = { youtube_id: videoId, };\n            const getScript = await postData('/get-transcript', payload);\n            if (getScript?.data) {\n                setTranscript(getScript?.data);\n\n            }\n        } catch (error) {\n            console.error(error);\n        }\n    };\n    const handleStart = () => {\n        setIsProcessing(true)\n        if (selectedOption === 'new-story') {\n            setTimeout(() => {\n                setIsProcessing(false);\n            }, 2000);\n        }\n        if (selectedOption === 'summary') {\n            setTimeout(() => {\n                setIsProcessing(false);\n                vidoeSummary();\n            }, 2000);\n        }\n        else if (selectedOption === 'new-script') {\n            setTimeout(() => {\n                setIsProcessing(false);\n                getTranscript();\n            }, 2000);\n        }\n    };\n\n    const handleCopy = () => {\n        if (summary) navigator.clipboard.writeText(summary);\n        else if (transcript) navigator.clipboard.writeText(transcript);\n\n    };\n\n    const handleDownload = () => {\n        const content = summary || transcript;\n        const filename = summary ? 'summary.txt' : 'transcript.txt';\n        if (content) {\n            const blob = new Blob([content], { type: 'text/plain' });\n            const link = document.createElement('a');\n            link.href = URL.createObjectURL(blob);\n            link.download = filename;\n            link.click();\n            URL.revokeObjectURL(link.href); \n        }\n    };\n\n    return (\n        <div className=\"story-creator-container\">\n            <div className=\"min-vh-100 d-flex justify-content-center align-items-center p-4 main\">\n                <div className=\"card shadow-lg\" style={{ maxWidth: '400px', width: '100%', minHeight: '600px' }}>\n                    <div className=\"card-header text-white d-flex justify-content-between align-items-center py-4 px-4\">\n                        <h5 className=\"mb-0\"> <Video className=\"text-light me-2\" style={{ height: '1.5rem', width: '1.5rem' }} /> Free YouTube Summarizer</h5>\n                        <GoogleLogin />\n                    </div>\n                    <div className=\"card-body p-4\">\n                        <p className='text-muted mb-4'><small>Create new content from videos</small></p>\n                        <UrlInput\n                            videoUrls={videoUrls}\n                            handleVideoUrlChange={handleVideoUrlChange}\n                            removeVideoUrl={removeVideoUrl}\n                            addVideoUrl={addVideoUrl}\n                        />\n                        <hr className='mx-1 border border-secondary' />\n                        <SelectInput\n                            handelSelectedOption={handelSelectedOption}\n                            selectedOption={selectedOption}\n                            options={options}\n                        />\n                        <StartButton\n                            handleStart={handleStart}\n                            selectedOption={selectedOption}\n                            isProcessing={isProcessing}\n                            videoUrls={videoUrls}\n                        />\n\n                        {summary && (\n                            <TextArea\n                                summary={summary}\n                                handleCopy={handleCopy}\n                                handleDownload={handleDownload}\n                            />\n                        )}\n                    </div>\n                    <UpgradeButton />\n                    <FeedBack />\n                    <div className=\"footer-border gradient-background\">\n                        <div className=\"w-100 d-flex justify-content-center gap-3 text-muted small p-0\">\n                            <a href=\"#\" className=\"btn text-light\">Privacy Policy</a>\n                            <a href=\"#\" className=\"btn text-light\">Terms and Conditions</a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default StoryCreator;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}